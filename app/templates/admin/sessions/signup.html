{% extends "admin/layout/base.html" %}

{% set title = _('REGISTER_TITLE') %}
{% set page_class = 'signup-bg' %}

{% block wide_container_main %}
	<div class="header">
		<a href="{{ url_for('latest') }}">
			<img alt="{{ site_name }}" class="logo" src="/static/assets/admin/images/logo.png?v20170101">
		</a>
	</div>
	<div class="signup-wrapper">
		<div class="box">
			<div class="content-wrap">
				<h6>{{ _('REGISTER_TITLE') }}</h6>
				{% from "shared/_bootstrap_forms.html" import render_inline_field %}
				<form action="{{ url_for('sessions.signup') }}" method="post" name="signup" autocomplete="off">
					{{ form.hidden_tag() }}
					{{ render_inline_field(form.email, class="form-control",placeholder=_('MAIL_LBL')) }}
					{{ render_inline_field(form.name, class="form-control",placeholder=_('NAME_LBL')) }}
					{{ render_inline_field(form.nickname, class="form-control",placeholder=_('NICKNAME_LBL')) }}
					{{ render_inline_field(form.password, class="form-control",placeholder=_('USER_PASSWORD')) }}

					{% if config.RC_SITE_KEY %}
					<div class="captcha-container">
						<div class="g-recaptcha" data-sitekey="{{ config.RC_SITE_KEY }}"></div>
					</div>
					{% endif %}

					<div class="checkbox text-center">
						<label>
							{{ form.check_tos }}
							{{ _('TOS_CHECK_LBL', link=url_for('privacy_policy')) |safe }}
						</label>
					</div>

					<div class="action">
						<button id="submit-signup" type="submit" name="button" class="btn-glow primary login btn-lg" disabled="disabled">{{ _('REGISTER_BTN') }}</button>
					</div>
				</form>
			</div>
		</div>
		<div class="already">
			<p>{{ _('SIGNIN_ACTION_LBL') }}</p>
			<a href="{{ url_for('sessions.login') }}">{{ _('LOGIN_BTN') }}</a>
		</div>
	</div>
{% endblock %}


{% block custom_head_js %}
	{% if config.RC_SITE_KEY %}
	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
	{% endif %}
{% endblock %}
